<html>

<head>

	<title>Circle</title>
	<link rel="icon" href="Images/icon.png" type="image/png">

</head>

<body>
<style>body{margin:5;}</style>
<p align = 'center'>
<canvas id ="gameCanvas"></canvas>
</p>

<script>

var canvas;
var canvasContext;
canvas = document.getElementById('gameCanvas');
canvasContext = canvas.getContext('2d');

var colors     = ["aqua",  "black", "blue",  "fuchsia",
                     "green", "cyan",  "lime",  "maroon",
                     "navy",  "olive", "purple","red",
                     "silver","teal",  "yellow","azure",
                     "gold",  "bisque","pink",  "orange"];
var m_x, m_y;
const fps = 360;
const R = 250;
const r = 20;
const nr = 16;
const rotation_speed = 0.31;
const alpha = (360 / nr) * Math.PI / 180;

var x = [];
var y = [];
var cx = canvas.width / 2 + R / 2;
var cy = canvas.height / 2;
var angle = 0;
var px, py;

var X = [];
var Y = [];
var l = -1;

window.onload = function() 
{
	init();
	window.addEventListener("resize", init, false);
	setInterval(circle, 1000/fps);	
}

function init()
{
	var myWidth = window.innerWidth - 10;
	var myHeight = window.innerHeight - 10;
	canvas.width = 840;
	canvas.height = 640;
	findPoints();
}

function circle()
{
	moveEverything();
	drawEverything();	
}

function moveEverything() 
{
	angle += rotation_speed;
	cx = (R / 2) * Math.cos(angle*Math.PI/180) + canvas.width/2;
	cy = (R / 2) * Math.sin(angle*Math.PI/180) + canvas.height/2;
}

function drawEverything() 
{
	var a;
	colorRect(0,0,canvas.width,canvas.height,'navy');
	colorCircle(canvas.width/2,canvas.height/2,R+r,'#2068db');
	for(var i = 0; i < nr; i++)
		line(canvas.width/2,canvas.height/2,x[i],y[i],'white');
	for(var i = 0; i < nr / 2; i++)
	{
		//a = i * (alpha * 2) + angle*Math.PI/180;
		a = i * (2 * alpha) - angle*Math.PI/180;
		px = (R / 2) * Math.cos(a) + cx;
		py = (R / 2) * Math.sin(a) + cy;
		/*l++;
		X[l] = px;
		Y[l] = py;*/
		
		/*var l = Math.sqrt((px-canvas.width/2)*(px-canvas.width/2) + (py-canvas.height/2)*(py-canvas.height/2));
		colorC(px,py,r,Math.floor(l),Math.floor(R-l)%256,0);*/
		
		colorCircle(px,py,r,'yellow');
	}
	/*for(var i = 5; i <= l; i++)
		colorRect(X[i],Y[i],1,1,'white');*/
}

function findPoints()
{
	var ang;
	for(var i = 0; i < nr; i++)
	{
		ang = i * alpha;
		x[i] = (R+r) * Math.cos(ang) + canvas.width/2;
		y[i] = (R+r) * Math.sin(ang) + canvas.height/2;
	}
}

function colorC(X,Y,r,R, G, B) 
{
	canvasContext.fillStyle = 'rgb(' + R + ',' + G + ',' + B + ')';
	canvasContext.beginPath();
	canvasContext.arc(X, Y, r, 0,Math.PI*2, true);
	canvasContext.fill();
	canvasContext.stroke();
}

function colorCircle(X,Y,r,drawColor) 
{

	canvasContext.fillStyle = drawColor;
	canvasContext.beginPath();
	canvasContext.arc(X, Y, r, 0,Math.PI*2, true);
	canvasContext.fill();

}

function colorRect(leftX,topY,width,height,drawColor) 
{

	canvasContext.fillStyle = drawColor;
	canvasContext.fillRect(leftX,topY,width,height);
}

function line(x1, y1, x2, y2, drawColor)
{
	canvasContext.strokeStyle = drawColor;
	canvasContext.beginPath();
	canvasContext.moveTo(x1,y1);
	canvasContext.lineTo(x2,y2);
	canvasContext.stroke();
}

function keyPush(evt) 
{
	if(evt.keyCode==37)
	{
		alert("left");
	}
}

function calculateMousePos(evt) 
{
	var rect = canvas.getBoundingClientRect();
	var root = document.documentElement;
	var mouseX = evt.clientX - rect.left - root.scrollLeft;
	var mouseY = evt.clientY - rect.top - root.scrollTop;
	return {
		x:mouseX,
		y:mouseY
	}
}

document.addEventListener("keydown",keyPush);

canvas.addEventListener("mousemove",mouse_move);

function mouse_move(evt) 
{
	var mousePos = calculateMousePos(evt);
	m_x = mousePos.x;
	m_y = mousePos.y;
}

function random_number(MaxNumber)
{
	return Math.floor(Math.random()*(MaxNumber))+1;
}


</script>
</body>
</html>